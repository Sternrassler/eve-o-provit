{
    "swagger": "2.0",
    "info": {
        "description": "REST API for EVE Online trading, manufacturing and profit optimization\n\nFeatures:\n- Intra-region trading route calculation\n- Character skills and ship fitting integration\n- Deterministic cargo/warp speed calculations\n- Market data caching with staleness tracking\n- EVE SSO authentication",
        "title": "EVE-O-Provit API",
        "contact": {
            "name": "EVE-O-Provit Team",
            "url": "https://github.com/Sternrassler/eve-o-provit",
            "email": "support@example.com"
        },
        "license": {
            "name": "MIT",
            "url": "https://opensource.org/licenses/MIT"
        },
        "version": "0.1.0"
    },
    "host": "localhost:8080",
    "basePath": "/",
    "paths": {
        "/api/v1/calculations/cargo": {
            "post": {
                "description": "Calculate effective cargo capacity including skill bonuses and module bonuses\nSupports both character-based (with ESI fetch) and manual skill input\nReturns deterministic breakdown of all bonuses applied",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Calculations"
                ],
                "summary": "Calculate effective cargo capacity",
                "parameters": [
                    {
                        "description": "Cargo calculation parameters",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/CargoCalculationRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/CargoCalculationResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/calculations/warp": {
            "post": {
                "description": "Calculate effective warp speed, inertia modifier, and align time\nIncludes skill bonuses and module effects with stacking penalties\nReturns deterministic breakdown of all bonuses applied",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Calculations"
                ],
                "summary": "Calculate warp speed and align time",
                "parameters": [
                    {
                        "description": "Warp calculation parameters",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/WarpCalculationRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/WarpCalculationResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/character": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get authenticated character information",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Character"
                ],
                "summary": "Get character info",
                "responses": {
                    "200": {
                        "description": "Character info with character_id, character_name, scopes, portrait_url",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/character/location": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get character's current location (solar system)",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Character"
                ],
                "summary": "Get character location",
                "responses": {
                    "200": {
                        "description": "Location data with solar_system_id, station_id, structure_id",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/character/ship": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get character's current active ship",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Character"
                ],
                "summary": "Get current ship",
                "responses": {
                    "200": {
                        "description": "Ship data with ship_item_id, ship_name, ship_type_id, ship_type_name",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/character/ships": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get list of all character's ships in current hangar",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Character"
                ],
                "summary": "Get character ships",
                "responses": {
                    "200": {
                        "description": "Array of ships with ship_item_id, ship_name, ship_type_id, ship_type_name",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "additionalProperties": true
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/characters/{characterId}/fitting/{shipTypeId}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Retrieve character's ship fitting with deterministic bonus calculations\nCalculates effective cargo capacity, warp speed with skills and modules\nUses EVE dogma engine with stacking penalties",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Fitting"
                ],
                "summary": "Get character ship fitting",
                "parameters": [
                    {
                        "type": "integer",
                        "example": 12345678,
                        "description": "Character ID",
                        "name": "characterId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "example": 650,
                        "description": "Ship Type ID",
                        "name": "shipTypeId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "boolean",
                        "default": false,
                        "description": "Force cache refresh",
                        "name": "refresh",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/CharacterFittingResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/characters/{characterId}/skills": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Retrieve character skills from ESI with Redis caching\nGraceful degradation: Returns default skills (level 0) if ESI fails",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Character"
                ],
                "summary": "Get character skills",
                "parameters": [
                    {
                        "type": "integer",
                        "example": 12345678,
                        "description": "Character ID",
                        "name": "characterId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/CharacterSkillsResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/esi/ui/autopilot/waypoint": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Set autopilot waypoint in EVE client via ESI UI API\nRequires scope: esi-ui.write_waypoint.v1",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "ESI UI"
                ],
                "summary": "Set autopilot waypoint",
                "parameters": [
                    {
                        "description": "Waypoint request",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "add_to_beginning": {
                                    "type": "boolean"
                                },
                                "clear_other_waypoints": {
                                    "type": "boolean"
                                },
                                "destination_id": {
                                    "type": "integer",
                                    "format": "int64"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Waypoint set successfully"
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/health": {
            "get": {
                "description": "Check API and database health status",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Health"
                ],
                "summary": "Health check",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/HealthResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/items/search": {
            "get": {
                "description": "Search for EVE Online items by name (fuzzy matching)",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Trading"
                ],
                "summary": "Search EVE items",
                "parameters": [
                    {
                        "minLength": 3,
                        "type": "string",
                        "description": "Search query (min 3 characters)",
                        "name": "q",
                        "in": "query",
                        "required": true
                    },
                    {
                        "maximum": 100,
                        "minimum": 1,
                        "type": "integer",
                        "default": 20,
                        "description": "Maximum results (default 20, max 100)",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/ItemSearchResult"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/market/staleness/{region}": {
            "get": {
                "description": "Check how old the cached market data is for a region\nStatus: fresh (\u003c30min), stale (30-60min), very_stale (\u003e60min)",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Market"
                ],
                "summary": "Get market data staleness",
                "parameters": [
                    {
                        "type": "integer",
                        "example": 10000002,
                        "description": "Region ID",
                        "name": "region",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/MarketDataStalenessResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/market/{region}/{type}": {
            "get": {
                "description": "Retrieve market orders for a specific item type in a region\nSupports optional refresh from ESI (cached for 5 minutes)",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Market"
                ],
                "summary": "Get market orders",
                "parameters": [
                    {
                        "type": "integer",
                        "example": 10000002,
                        "description": "Region ID",
                        "name": "region",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "example": 34,
                        "description": "Type ID",
                        "name": "type",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "boolean",
                        "default": false,
                        "description": "Force refresh from ESI",
                        "name": "refresh",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/MarketOrderResponse"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/sde/regions": {
            "get": {
                "description": "Get list of all EVE Online regions from SDE",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "SDE"
                ],
                "summary": "List all EVE regions",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/RegionResponse"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/trading/routes/calculate": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Calculate optimal intra-region trading routes with profit analysis\nUses character skills and ship fitting for accurate cargo capacity\nSupports deterministic navigation parameters (warp_speed, align_time) from frontend fitting calculation\nSupports volume filtering for liquidity-based selection",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Trading"
                ],
                "summary": "Calculate trading routes",
                "parameters": [
                    {
                        "description": "Route calculation request",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.RouteCalculationRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successfully calculated routes",
                        "schema": {
                            "$ref": "#/definitions/models.RouteCalculationResponse"
                        }
                    },
                    "206": {
                        "description": "Partial results (timeout)",
                        "schema": {
                            "$ref": "#/definitions/models.RouteCalculationResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/types/{id}": {
            "get": {
                "description": "Retrieve detailed information about an EVE Online item type from SDE",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "SDE"
                ],
                "summary": "Get item type information",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Type ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/TypeResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/version": {
            "get": {
                "description": "Get API version information",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Health"
                ],
                "summary": "API version",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/VersionResponse"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "CargoCalculationRequest": {
            "type": "object",
            "required": [
                "ship_type_id"
            ],
            "properties": {
                "base_capacity": {
                    "type": "number",
                    "example": 5000
                },
                "character_id": {
                    "type": "integer",
                    "example": 12345678
                },
                "module_bonuses": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ModuleBonusInput"
                    }
                },
                "ship_type_id": {
                    "type": "integer",
                    "example": 650
                },
                "skill_levels": {
                    "$ref": "#/definitions/SkillLevelsInput"
                }
            }
        },
        "CargoCalculationResponse": {
            "type": "object",
            "properties": {
                "base_capacity_m3": {
                    "type": "number",
                    "example": 5000
                },
                "capacity_breakdown": {
                    "type": "string",
                    "example": "Base: 5000m続 + Skills: 25% + Modules: 4656.9m続 = 9656.9m続"
                },
                "effective_capacity_m3": {
                    "type": "number",
                    "example": 9656.9
                },
                "module_bonus_m3": {
                    "type": "number",
                    "example": 4656.9
                },
                "ship_type_id": {
                    "type": "integer",
                    "example": 650
                },
                "ship_type_name": {
                    "type": "string",
                    "example": "Nereus"
                },
                "skill_bonus_percent": {
                    "type": "number",
                    "example": 25
                }
            }
        },
        "CharacterFittingResponse": {
            "type": "object",
            "properties": {
                "align_time_seconds": {
                    "description": "Deterministic align time (with skills + modules)",
                    "type": "number",
                    "example": 4.82
                },
                "applied_skills": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "Gallente Hauler V",
                        "Navigation V"
                    ]
                },
                "base_cargo_hold_m3": {
                    "type": "number",
                    "example": 2700
                },
                "base_fuel_bay_m3": {
                    "type": "number",
                    "example": 0
                },
                "base_warp_speed_au_s": {
                    "type": "number",
                    "example": 3
                },
                "cached_until": {
                    "type": "string",
                    "example": "2025-11-12T11:00:00Z"
                },
                "character_id": {
                    "type": "integer",
                    "example": 12345678
                },
                "effective_cargo_m3": {
                    "type": "number",
                    "example": 9656.9
                },
                "fitted_modules": {
                    "type": "integer",
                    "example": 5
                },
                "inertia_modifier": {
                    "type": "number",
                    "example": 1
                },
                "ship_name": {
                    "type": "string",
                    "example": "Nereus"
                },
                "ship_type_id": {
                    "type": "integer",
                    "example": 650
                },
                "warp_speed_au_s": {
                    "type": "number",
                    "example": 6.87
                }
            }
        },
        "CharacterSkill": {
            "type": "object",
            "properties": {
                "active_skill_level": {
                    "type": "integer",
                    "example": 5
                },
                "skill_id": {
                    "type": "integer",
                    "example": 3340
                },
                "skillpoints_in_skill": {
                    "type": "integer",
                    "example": 256000
                },
                "trained_skill_level": {
                    "type": "integer",
                    "example": 5
                }
            }
        },
        "CharacterSkillsResponse": {
            "type": "object",
            "properties": {
                "cached_until": {
                    "type": "string",
                    "example": "2025-11-12T11:00:00Z"
                },
                "character_id": {
                    "type": "integer",
                    "example": 12345678
                },
                "skills": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/CharacterSkill"
                    }
                },
                "total_sp": {
                    "type": "integer",
                    "example": 50000000
                },
                "unallocated_sp": {
                    "type": "integer",
                    "example": 0
                }
            }
        },
        "ErrorResponse": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer",
                    "example": 400
                },
                "error": {
                    "type": "string",
                    "example": "Invalid request"
                },
                "message": {
                    "type": "string",
                    "example": "Detailed error message"
                }
            }
        },
        "HealthResponse": {
            "type": "object",
            "properties": {
                "status": {
                    "type": "string",
                    "example": "ok"
                },
                "timestamp": {
                    "type": "string",
                    "example": "2025-11-12T10:00:00Z"
                }
            }
        },
        "ItemSearchResult": {
            "type": "object",
            "properties": {
                "group_name": {
                    "type": "string",
                    "example": "Mineral"
                },
                "name": {
                    "type": "string",
                    "example": "Tritanium"
                },
                "type_id": {
                    "type": "integer",
                    "example": 34
                }
            }
        },
        "MarketDataStalenessResponse": {
            "type": "object",
            "properties": {
                "age_minutes": {
                    "type": "integer",
                    "example": 15
                },
                "last_update": {
                    "type": "string",
                    "example": "2025-11-12T10:00:00Z"
                },
                "refresh_allowed": {
                    "type": "boolean",
                    "example": true
                },
                "region_id": {
                    "type": "integer",
                    "example": 10000002
                },
                "region_name": {
                    "type": "string",
                    "example": "The Forge"
                },
                "status": {
                    "description": "fresh, stale, very_stale",
                    "type": "string",
                    "example": "fresh"
                }
            }
        },
        "MarketOrderResponse": {
            "type": "object",
            "properties": {
                "duration": {
                    "type": "integer",
                    "example": 90
                },
                "is_buy_order": {
                    "type": "boolean",
                    "example": false
                },
                "issued": {
                    "type": "string",
                    "example": "2025-11-12T10:00:00Z"
                },
                "location_id": {
                    "type": "integer",
                    "example": 60003760
                },
                "min_volume": {
                    "type": "integer",
                    "example": 1
                },
                "order_id": {
                    "type": "integer",
                    "example": 123456789
                },
                "price": {
                    "type": "number",
                    "example": 5.5
                },
                "range": {
                    "type": "string",
                    "example": "region"
                },
                "system_id": {
                    "type": "integer",
                    "example": 30000142
                },
                "type_id": {
                    "type": "integer",
                    "example": 34
                },
                "volume_remain": {
                    "type": "integer",
                    "example": 100000
                },
                "volume_total": {
                    "type": "integer",
                    "example": 100000
                }
            }
        },
        "ModuleBonusInput": {
            "type": "object",
            "properties": {
                "attribute_id": {
                    "type": "integer",
                    "example": 38
                },
                "value": {
                    "type": "number",
                    "example": 500
                }
            }
        },
        "RegionResponse": {
            "type": "object",
            "properties": {
                "region_id": {
                    "type": "integer",
                    "example": 10000002
                },
                "region_name": {
                    "type": "string",
                    "example": "The Forge"
                }
            }
        },
        "SkillLevelsInput": {
            "type": "object",
            "properties": {
                "racial_cruiser": {
                    "type": "integer",
                    "example": 5
                },
                "racial_destroyer": {
                    "type": "integer",
                    "example": 5
                },
                "racial_frigate": {
                    "type": "integer",
                    "example": 5
                },
                "spaceship_command": {
                    "type": "integer",
                    "example": 5
                }
            }
        },
        "TypeResponse": {
            "type": "object",
            "properties": {
                "category_id": {
                    "type": "integer",
                    "example": 4
                },
                "group_id": {
                    "type": "integer",
                    "example": 18
                },
                "packaged_volume": {
                    "type": "number",
                    "example": 0.01
                },
                "type_id": {
                    "type": "integer",
                    "example": 34
                },
                "type_name": {
                    "type": "string",
                    "example": "Tritanium"
                },
                "volume": {
                    "type": "number",
                    "example": 0.01
                }
            }
        },
        "VersionResponse": {
            "type": "object",
            "properties": {
                "build_time": {
                    "type": "string",
                    "example": "2025-11-12T10:00:00Z"
                },
                "git_commit": {
                    "type": "string",
                    "example": "abc123def"
                },
                "version": {
                    "type": "string",
                    "example": "0.1.0"
                }
            }
        },
        "WarpCalculationRequest": {
            "type": "object",
            "required": [
                "ship_type_id"
            ],
            "properties": {
                "base_inertia": {
                    "type": "number",
                    "example": 0.57
                },
                "base_mass": {
                    "type": "number",
                    "example": 12100000
                },
                "base_warp_speed": {
                    "type": "number",
                    "example": 3
                },
                "character_id": {
                    "type": "integer",
                    "example": 12345678
                },
                "module_bonuses": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ModuleBonusInput"
                    }
                },
                "ship_type_id": {
                    "type": "integer",
                    "example": 650
                },
                "skill_levels": {
                    "$ref": "#/definitions/WarpSkillLevelsInput"
                }
            }
        },
        "WarpCalculationResponse": {
            "type": "object",
            "properties": {
                "align_time_seconds": {
                    "type": "number",
                    "example": 4.25
                },
                "base_inertia": {
                    "type": "number",
                    "example": 0.57
                },
                "base_warp_speed_au_s": {
                    "type": "number",
                    "example": 3
                },
                "effective_inertia": {
                    "type": "number",
                    "example": 0.456
                },
                "effective_warp_speed_au_s": {
                    "type": "number",
                    "example": 4.5
                },
                "inertia_bonus_percent": {
                    "type": "number",
                    "example": 20
                },
                "ship_type_id": {
                    "type": "integer",
                    "example": 650
                },
                "ship_type_name": {
                    "type": "string",
                    "example": "Nereus"
                },
                "warp_speed_bonus_percent": {
                    "type": "number",
                    "example": 50
                },
                "warp_speed_breakdown": {
                    "type": "string",
                    "example": "Base: 3.0 AU/s + Skills: 50% = 4.5 AU/s"
                }
            }
        },
        "WarpSkillLevelsInput": {
            "type": "object",
            "properties": {
                "evasive_maneuvering": {
                    "type": "integer",
                    "example": 5
                },
                "navigation": {
                    "type": "integer",
                    "example": 5
                },
                "warp_drive_operation": {
                    "type": "integer",
                    "example": 5
                }
            }
        },
        "models.RouteCalculationRequest": {
            "type": "object",
            "properties": {
                "align_time": {
                    "description": "Optional: Deterministic align time in seconds (from fitting calculation)",
                    "type": "number",
                    "example": 4.8
                },
                "cargo_capacity": {
                    "description": "Optional: Override cargo capacity (m続)",
                    "type": "number",
                    "example": 62500
                },
                "include_volume_metrics": {
                    "description": "Optional: Whether to include volume metrics",
                    "type": "boolean",
                    "example": false
                },
                "max_liquidation_days": {
                    "description": "Optional: Maximum liquidation time (days)",
                    "type": "number",
                    "example": 7
                },
                "min_daily_volume": {
                    "description": "Optional: Minimum daily volume filter (items/day)",
                    "type": "number",
                    "example": 100
                },
                "region_id": {
                    "description": "Region ID (e.g., The Forge)",
                    "type": "integer",
                    "example": 10000002
                },
                "ship_type_id": {
                    "description": "Ship type ID (e.g., Bestower)",
                    "type": "integer",
                    "example": 649
                },
                "warp_speed": {
                    "description": "Optional: Deterministic warp speed in AU/s (from fitting calculation)",
                    "type": "number",
                    "example": 4.2
                }
            }
        },
        "models.RouteCalculationResponse": {
            "type": "object",
            "properties": {
                "calculation_time_ms": {
                    "type": "integer"
                },
                "cargo_capacity": {
                    "type": "number"
                },
                "region_id": {
                    "type": "integer"
                },
                "region_name": {
                    "type": "string"
                },
                "routes": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/models.TradingRoute"
                    }
                },
                "ship_name": {
                    "type": "string"
                },
                "ship_type_id": {
                    "type": "integer"
                },
                "warning": {
                    "type": "string"
                }
            }
        },
        "models.TradingRoute": {
            "type": "object",
            "properties": {
                "base_cargo_capacity": {
                    "description": "Base capacity without skills",
                    "type": "number"
                },
                "base_isk_per_hour": {
                    "description": "ISK/h without navigation skills",
                    "type": "number"
                },
                "base_travel_time_seconds": {
                    "description": "Navigation Skills fields",
                    "type": "number"
                },
                "broker_fees": {
                    "description": "Combined broker fees (buy + sell)",
                    "type": "number"
                },
                "buy_broker_fee": {
                    "description": "Trading Fees fields (Issue #39)",
                    "type": "number"
                },
                "buy_price": {
                    "type": "number"
                },
                "buy_security_status": {
                    "type": "number"
                },
                "buy_station_id": {
                    "type": "integer"
                },
                "buy_station_name": {
                    "type": "string"
                },
                "buy_system_id": {
                    "type": "integer"
                },
                "buy_system_name": {
                    "type": "string"
                },
                "cargo_capacity": {
                    "description": "Total effective capacity (with skills + fitting)",
                    "type": "number"
                },
                "cargo_used": {
                    "description": "Cargo fields",
                    "type": "number"
                },
                "cargo_utilization": {
                    "description": "Percentage 0-100",
                    "type": "number"
                },
                "daily_profit": {
                    "description": "Profit per day (net_profit / liquidation_days)",
                    "type": "number"
                },
                "estimated_relist_fee": {
                    "description": "Estimated relist fee (sell broker fee)",
                    "type": "number"
                },
                "fitting_bonus_m3": {
                    "description": "Fitting modules bonus (absolute m続)",
                    "type": "number"
                },
                "gross_margin_percent": {
                    "description": "Gross profit margin %",
                    "type": "number"
                },
                "gross_profit": {
                    "description": "Profit before fees",
                    "type": "number"
                },
                "isk_per_hour": {
                    "type": "number"
                },
                "item_name": {
                    "type": "string"
                },
                "item_type_id": {
                    "type": "integer"
                },
                "item_volume": {
                    "type": "number"
                },
                "jumps": {
                    "type": "integer"
                },
                "liquidation_days": {
                    "description": "Estimated days to sell inventory",
                    "type": "number"
                },
                "min_route_security_status": {
                    "description": "Minimum security of all systems on route",
                    "type": "number"
                },
                "net_profit": {
                    "description": "Total profit minus all fees",
                    "type": "number"
                },
                "net_profit_percent": {
                    "description": "Net profit margin %",
                    "type": "number"
                },
                "number_of_tours": {
                    "description": "Multi-tour fields",
                    "type": "integer"
                },
                "profit_per_tour": {
                    "type": "number"
                },
                "profit_per_unit": {
                    "type": "number"
                },
                "quantity": {
                    "type": "integer"
                },
                "round_trip_seconds": {
                    "type": "number"
                },
                "sales_tax": {
                    "description": "Sales tax on sell orders",
                    "type": "number"
                },
                "sell_broker_fee": {
                    "description": "Broker fee for sell order placement",
                    "type": "number"
                },
                "sell_price": {
                    "type": "number"
                },
                "sell_security_status": {
                    "type": "number"
                },
                "sell_station_id": {
                    "type": "integer"
                },
                "sell_station_name": {
                    "type": "string"
                },
                "sell_system_id": {
                    "type": "integer"
                },
                "sell_system_name": {
                    "type": "string"
                },
                "skill_bonus_percent": {
                    "description": "Total skill bonus %",
                    "type": "number"
                },
                "skilled_travel_time_seconds": {
                    "description": "Travel time with navigation skills applied",
                    "type": "number"
                },
                "spread_percent": {
                    "type": "number"
                },
                "time_improvement_percent": {
                    "description": "Percentage improvement from skills",
                    "type": "number"
                },
                "total_fees": {
                    "description": "Sum of all trading fees",
                    "type": "number"
                },
                "total_profit": {
                    "type": "number"
                },
                "total_time_minutes": {
                    "type": "number"
                },
                "travel_time_seconds": {
                    "type": "number"
                },
                "volume_metrics": {
                    "description": "Volume \u0026 Liquidity fields (Issue #53)",
                    "allOf": [
                        {
                            "$ref": "#/definitions/models.VolumeMetrics"
                        }
                    ]
                }
            }
        },
        "models.VolumeMetrics": {
            "type": "object",
            "properties": {
                "daily_isk_turnover": {
                    "description": "Average daily ISK traded (volume  avg_price)",
                    "type": "number"
                },
                "daily_volume_avg": {
                    "description": "30-day average daily volume",
                    "type": "number"
                },
                "data_days": {
                    "description": "Number of days of historical data available",
                    "type": "integer"
                },
                "liquidity_score": {
                    "description": "0-100 score based on volume stability",
                    "type": "integer"
                },
                "region_id": {
                    "type": "integer"
                },
                "type_id": {
                    "type": "integer"
                }
            }
        }
    },
    "securityDefinitions": {
        "BearerAuth": {
            "description": "EVE SSO Bearer Token. Format: \"Bearer {token}\"",
            "type": "apiKey",
            "name": "Authorization",
            "in": "header"
        }
    }
}